:root {
  --color-primary: #0066cc;
  --color-primary-dark: #005bb5;

  --typography-font-size: 1rem;
  --typography-line-height: 1.5;

  /* text colors / muted */
  --typography-muted: rgba(0, 0, 0, 0.7);
  --typography-muted-color: rgba(0, 0, 0, 0.7);
  --typography-muted-bg: rgba(0, 0, 0, 0.03);
  --typography-base-color: rgba(0, 0, 0, 0.85);

  /* links & focus */
  --typography-link-color: var(--color-primary);
  --typography-link-hover-color: var(--color-primary-dark);
  --typography-focus-outline: rgba(0, 120, 212, 0.2);

  /* code */
  --typography-code-bg: #0b1220;
  --typography-code-color: #e6edf3;
  --typography-code-inline-bg: rgba(27, 31, 35, 0.05);

  /* borders / accents */
  --typography-border: rgba(0, 0, 0, 0.08);
  --typography-primary: var(--color-primary);

  /* heading sizes */
  --typography-h1-size: clamp(1.6rem, 2.2vw + 1rem, 2.5rem);
  --typography-h2-size: clamp(1.375rem, 1.6vw + 0.9rem, 1.9rem);
  --typography-h3-size: 1.25rem;

  /* more specific typography color/bg variables (fall back to previous muted values) */
  --typography-lead-color: var(--typography-muted-color, rgba(0, 0, 0, 0.7));
  --typography-figcaption-color: rgba(0, 0, 0, 0.6);
  --typography-caption-color: rgba(0, 0, 0, 0.6);

  --typography-table-th-bg: var(--typography-muted-bg, rgba(0, 0, 0, 0.03));
  --typography-blockquote-bg: rgba(0, 0, 0, 0.02);

  /* lists (defaults) */
  --typography-list-style-ul: disc;
  --typography-list-style-ol: decimal;
  --typography-list-padding-left: 1.5rem;
  --typography-list-margin-bottom: 1rem;
  --typography-list-item-margin-bottom: 5px;
}

@layer base {
  .typography {
    line-height: var(--typography-line-height);

    /* headings */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      line-height: 1.25;
      margin-top: 1.6rem;
      margin-bottom: 0.6rem;
      font-weight: 700;
      -webkit-font-smoothing: antialiased;
    }

    h1 {
      font-size: var(--typography-h1-size);
    }

    h2 {
      font-size: var(--typography-h2-size);
    }

    h3 {
      font-size: var(--typography-h3-size);
    }

    p {
      margin: 0 0 1.25rem;
      hyphens: auto;
    }

    /* lead paragraph */
    .lead {
      font-size: 1.125rem;
      color: var(--typography-lead-color);
      margin-bottom: 1.25rem;
    }

    /* lists */
    ul {
      list-style-type: var(--typography-list-style-ul, disc);
      padding-left: var(--typography-list-padding-left, 1.5rem);
      margin: 0 0 var(--typography-list-margin-bottom, 1rem) 0;
    }

    ol {
      list-style-type: var(--typography-list-style-ol, decimal);
      padding-left: var(--typography-list-padding-left, 1.5rem);
      margin: 0 0 var(--typography-list-margin-bottom, 1rem) 0;
    }

    li {
      margin-bottom: var(--typography-list-item-margin-bottom, 0.5rem);
    }

    /* links */
    a {
      color: var(--typography-link-color);
      text-decoration: underline;
      transition: color 0.15s ease, box-shadow 0.15s ease;

      &:hover,
      &:focus {
        color: var(--typography-link-hover-color);
      }

      &:focus-visible {
        outline: 3px solid var(--typography-focus-outline, rgba(0, 120, 212, 0.2));
        outline-offset: 2px;
      }
    }

    /* images and figures */
    img,
    video {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 1rem 0;
    }

    figure {
      margin: 1.25rem 0;
    }

    figcaption {
      font-size: 0.875rem;
      color: var(--typography-figcaption-color);
      margin-top: 0.5rem;
      text-align: center;
    }

    /* code blocks and inline code */
    pre {
      background: var(--typography-code-bg, #0b1220);
      color: var(--typography-code-color, #e6edf3);
      padding: 1rem;
      border-radius: 0.375rem;
      overflow: auto;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
      font-size: 0.875rem;
      margin: 1rem 0;
    }

    code {
      background: var(--typography-code-inline-bg, rgba(27, 31, 35, 0.05));
      padding: 0.125rem 0.25rem;
      border-radius: 0.25rem;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
      font-size: 0.9em;
    }

    /* tables */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
      overflow: auto;
      display: block;
    }

    th,
    td {
      padding: 0.5rem 0.75rem;
      border: 1px solid var(--typography-border, rgba(0, 0, 0, 0.08));
      text-align: left;
    }

    thead th {
      background: var(--typography-table-th-bg);
    }

    hr {
      border: none;
      border-top: 1px solid var(--typography-border, rgba(0, 0, 0, 0.08));
      margin: 2rem 0;
    }

    /* blockquote: keep your original style but add subtle background */
    blockquote {
      border-left: 4px solid var(--typography-primary);
      padding: 0.75rem 1rem;
      color: var(--typography-base-color);
      font-style: italic;
      margin: 1.5rem 0;
      background: var(--typography-blockquote-bg);
    }

    /* emphasis */
    strong {
      font-weight: 700;
    }

    em {
      font-style: italic;
    }

    /* details/summary */
    details {
      margin: 1rem 0;
    }

    summary {
      cursor: pointer;
      font-weight: 600;
    }

    /* small accessibility/perf niceties */
    img[loading="lazy"] {
      will-change: transform, opacity;
    }

    /* utilities inside the typography scope */
    .caption {
      font-size: 0.875rem;
      color: var(--typography-caption-color);
    }
  }
}